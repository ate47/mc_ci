name: Sync CI ğŸš€

on:
  workflow_dispatch:
    inputs:
      syncFile:
        description: "Sync file ğŸ“‚"
        required: true
        type: choice
        options:
          - "config/dev_project.json"
          - "config/prod_project.json"

jobs:
  labels:
    name: ğŸ”ƒ Sync
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: âš™ï¸ Set git values
        run: |
          git config --global user.name github-actions
          git config --global user.email github-actions@github.com
          git config --global user.password ${{ secrets.GH_PAT }}
      - name: ğŸ”ƒ Sync
        shell: pwsh
        run: "scripts/sync.ps1 -IKnowWhatImDoing -File ${{ inputs.syncFile }}"
      - name: ğŸŒµ Clean
        if: always()
        run: |
          git config --global user.password ""
